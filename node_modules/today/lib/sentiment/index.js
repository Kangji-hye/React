'use strict';

const Sentiment = require('sentiment');
const _ = require('lodash');

module.exports = {
    sentiment,
    addWeighting
};

let weighting = {

};

function addWeighting(obj) {
    if(!_isPlainObject(obj)) {
        return;
    }
    weighting = Object.assign(weighting, obj);
}

function sentiment(item) {
    let data = Sentiment(item, weighting);
    delete data.tokens;
    delete data.words;

    return data;
}

/*
 var result = sentiment('Cats are totally amazing!', {
 'cats': 5,
 'amazing': 2
 });
 console.dir(result);    // Score: 7, Comparative: 1.75
 */